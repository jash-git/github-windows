<!DOCTYPE html>
<!--[if IE 7]> <html class="Ie7 Ie" dir="ltr" lang="zh-TW"> <![endif]-->
<!--[if IE 8]> <html class="Ie8 Ie" dir="ltr" lang="zh-TW"> <![endif]-->
<!--[if IE 9]> <html class="Ie9 Ie" dir="ltr" lang="zh-TW"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html dir="ltr" lang="zh-TW" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml"> <!--<![endif]-->

<!-- Mirrored from backlogtool.com/git-tutorial/tw/reference/log.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 09:07:41 GMT -->
<head>
	<meta charset="UTF-8">
	<meta name="keywords" content="Git, 版本控制，甘特圖，燃盡圖，專案管理，subversion,貝格樂">
	<meta name="description" content="操作提交記錄 | 歡迎來到超級簡單的Git入門指南，讓我們一起學習如何使用Git版本控制系統吧！">
    <title>操作提交記錄 | 連猴子都能懂的Git入門指南  | 貝格樂（Backlog）</title>
    <meta property="og:title" content="操作提交記錄 | 連猴子都能懂的Git入門指南  | 貝格樂（Backlog）">
    <meta property="og:description" content="操作提交記錄 | 歡迎來到超級簡單的Git入門指南，讓我們一起學習如何使用Git版本控制系統吧！">
    <meta property="og:url" content="http://backlogtool.com/git-guide/tw/reference/basic.html">
    <meta property="og:image" content="../ogp_dft.png">
    <meta property="og:type" content="article">
    <meta property="fb:app_id" content="417292271624387">
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" type="text/css" media="all" href="../style.css">
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TSQPXBL');</script>
<!-- End Google Tag Manager -->    <!--[if lt IE 9]>
        <script src="./../js/lib/html5.js" type="text/javascript"></script>
    <![endif]-->
</head>
<body class="Ref">
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TSQPXBL"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->    <div id="container">
        
        <header id="header" role="banner">
            <div class="Inner">
                <h1><a href="../index.html">連猴子都能懂的Git入門指南</a></h1>
                <a class="btn-contents" href="../contents/index.html"><span>目錄</span><span class="Bg"></span></a>
                <ul id="socials" class="Socials Cf">
                    <!-- #socials -->
                </ul>

                <nav id="nav">
                    <ul class="Cf">
                        <li><a href="../intro/intro1_1.html">入門篇</a></li>
                        <li><a href="../stepup/stepup1_1.html">進階篇</a></li>
                        <li><a href="index.html">Git命令快速參考</a></li>
                    </ul>
                </nav>
            </div>
            <!-- #header -->
        </header>

        <div id="content">
            <div id="main" role="main">
                <ol class="Breadcrumbs">
                    <li><a href="index.html">Git命令快速參考 TOP</a> &gt; </li>
                    <li>操作提交記錄</li>
                </ol>
                <article class="Ref-post Basic">
                    <h1>操作提交記錄</h1>
                    <ul class="Page-nav">
                        <li><a href="#sec1">修改最近的提交記錄</a></li>
                        <li><a href="#sec2">只修改最近的提交記錄的註解</a></li>
                        <li><a href="#sec3">修改過去的提交記錄</a></li>
                        <li><a href="#sec4">只修改過去提交記錄的註解</a></li>
                        <li><a href="#sec5">中途停止rebase</a></li>
                        <li><a href="#sec6">查看HEAD的移動記錄</a></li>
                        <li><a href="#sec7">查看分支的移動記錄</a></li>
                        <li><a href="#sec8">刪除最近的提交</a></li>
                        <li><a href="#sec9">放棄rebase</a></li>
                        <li><a href="#sec10">取消最近的reset</a></li>
                        <li><a href="#sec11">複製在另一個分支的提交</a></li>
                        <li><a href="#sec12">查找包含特定註解的提交</a></li>

                    </ul>

                    <section id="sec1" class="Item">
                        <h1>修改最近的提交記錄</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git commit --amend</pre>
                            <p>執行 --amend ，可以覆蓋當前分支最前面的提交。</p>
                            <p><a href="../stepup/stepup6_1.html">進階篇 【改寫提交】 修改最近的提交</a><br>
                               <a href="../stepup/stepup7_1.html">進階篇 【教學3 改寫提交】 1. Commit --amend</a></p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec2" class="Item">
                        <h1>只修改最近的提交記錄的註解</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git commit --amend</pre>
                            <p>在索引沒有註冊任何檔案的狀態之下，執行 --amend 重新提交，將會出現填寫註解的畫面，請在此修改註解。</p>
                            <p><a href="../stepup/stepup6_1.html">進階篇 【改寫提交】 修改最近的提交</a><br>
                               <a href="../stepup/stepup7_1.html">進階篇 【教學3 改寫提交】 1. Commit --amend</a></p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec3" class="Item">
                        <h1>修改過去的提交記錄</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git rebase -i &lt;commit&gt;</pre>
                            <p>若指定一個提交紀錄後再執行此命令的話，會顯示提交清單的訊息。在其中找出要修改的提交將該行的 "pick" 的文字改成 "edit"，之後儲存並退出。</p>
                            <p>接著，編輯要修改的檔案，儲存檔案之後執行有 --amend 的提交。</p>
                            <pre class="Mg-b15">$ git commit --amend</pre>
                            <p>最後，加上 --continue 參數，執行 rebase 。</p>
                            <pre class="Mg-b15">$ git rebase --continue</pre>
                            <p><a href="../stepup/stepup6_5.html">進階篇 【改寫提交】 改寫提交的歷史記錄</a><br>
                               <a href="../stepup/stepup7_6.html">進階篇 【教程3 改寫提交】 6. 使用rebase -i 修改提交</a></p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec4" class="Item">
                        <h1>只修改過去提交記錄的註解</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git rebase -i &lt;commit&gt;</pre>
                            <p>如果指定一個提交紀錄後再執行此命令的話，會顯示提交清單。在其中找出要修改的提交，將該行的 "pick"改成 "edit"，之後儲存並退出。</p>
                            <p>執行有 --amend 參數的提交。將會顯示填寫註解的畫面，請在此修改註解。</p>
                            <pre class="Mg-b15">$ git commit --amend</pre>
                            <p>最後，加上 --continue 參數，執行 rebase 。</p>
                            <pre class="Mg-b15">$ git rebase --continue</pre>
                            <p><a href="../stepup/stepup6_5.html">進階篇 【改寫提交】 改寫提交的歷史記錄</a><br>
                                <a href="../stepup/stepup7_6.html">進階篇 【教程3 改寫提交】 6. 使用rebase -i 修改提交</a></p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec5" class="Item">
                        <h1>中途停止rebase</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git rebase --abort</pre>
                            <p>加上 --abort，即可以取消 rebase 。</p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec6" class="Item">
                        <h1>查看HEAD的移動記錄</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git reflog</pre>
                            <p>執行 reflog 命令，就可以查看過去 HEAD 指向過去的提交清單。</p>
                            <pre class="Mg-b15">08084a5 HEAD@{0}: commit: 添加pull的說明
99daed2 HEAD@{1}: commit: 添加commit的說明
48eec1d HEAD@{2}: checkout: moving from master to issue1
326fc9f HEAD@{3}: commit: 添加add的說明
48eec1d HEAD@{4}: commit (initial): first commit</pre>
                            <p>這裡會顯示已刪除的提交和藉由 rebase 等所合併的提交。</p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec7" class="Item">
                        <h1>查看分支的移動記錄</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git reflog &lt;ref&gt;</pre>
                            <p>在&lt;ref&gt; 指定分支名稱，並執行 reflog 命令，分支過去的提交清單會以下面的方式顯示。</p>
                            <pre class="Mg-b15">445e0ae issue1@{0}: commit (merge): Merge branch 'master' into issue1
1c904bd issue1@{1}: commit (amend): 查看pull的講解
08084a5 issue1@{2}: commit: 添加pull的說明
99daed2 issue1@{3}: commit: 添加commit的說明
48eec1d issue1@{4}: branch: Created from 48eec1ddf73a7fb508ef664efd6b3d873631742f</pre>
                            <p>這裡將會顯示已刪除的提交和藉著rebase等所匯集的提交。</p>

                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec8" class="Item">
                        <h1>刪除最近的提交</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git reset --hard HEAD~</pre>
                            <p><a href="../stepup/stepup6_3.html">進階篇 【改寫提交】 放棄提交</a><br>
                                <a href="../stepup/stepup7_3.html">進階篇 【教學3 改寫提交】 3. Reset</a></p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec9" class="Item">
                        <h1>放棄rebase</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git reset --hard &lt;commit&gt;</pre>
                            <p>首先使用 reflog 命令查找 rebase 以前的提交，確認提交的雜湊值或「HEAD@{數字}」值。以下的記錄是 update2 提交之後，rebase 命令執行2個提交之後所合併的記錄。71bdfbd 以及 HEAD@{4} 是任意的提交。</p>
                            <pre class="Mg-b15">a51f8d2 HEAD@{0}: rebase -i (finish): returning to refs/heads/dev
a51f8d2 HEAD@{1}: rebase -i (squash): update 1
3a273e1 HEAD@{2}: rebase -i (squash): updating HEAD
f55ef69 HEAD@{3}: checkout: moving from dev to f55ef69
71bdfbd HEAD@{4}: commit: update 2
f55ef69 HEAD@{5}: commit (amend): update 1</pre>
                            <p>找到的雜湊值或「HEAD@{數字}」值填入 <commit>，然後執行 reset 命令。</p>
                            <p>這就是把被 rebase 移動過的分支的前頭位置恢復到提交 rebase 之前的位置，藉此取消 rebase。</p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec10" class="Item">
                        <h1>取消最近的reset</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git reset --hard ORIG_HEAD</pre>
                            <p>ORIG_HEAD是指reset之前的提交，您可以使用ORIG_HEAD復原之前的reset。</p>
                            <p><a href="../stepup/stepup6_3.html">進階篇【改寫提交】 放棄提交</a><br>
                                <a href="../stepup/stepup7_3.html">進階篇 【教學3 改寫提交】 3. Reset</a></p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <section id="sec11" class="Item">
                        <h1>複製在另一個分支的提交</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git cherry-pick "&lt;commit&gt;"</pre>
                            <p>把指定 &lt;commit&gt; 的提交複製到當前的分支。</p>
                            <p><a href="../stepup/stepup6_4.html">進階篇 【改寫提交】 提取提交</a><br>
                                <a href="../stepup/stepup7_4.html">進階篇 【教學3 改寫提交】 4. Cherry-pick</a></p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>


                    <section id="sec12" class="Item">
                        <h1>尋找包含特定註解的提交</h1>
                        <div class="Entry-content">
                            <pre class="Mg-b15">$ git log --grep "&lt;pattern&gt;"</pre>
                            <p>只顯示提交記錄裡包含 &lt;pattern&gt; 所指定文字的提交。</p>
                        </div>
                        <a class="Up-btn" href="#">Back To Top</a>
                    </section>

                    <footer class="Paging">
                        <div class="Nav-prev">
                            <a href="index.html"><span class="Bg"></span><span><b>返回頂部</b></span></a>
                        </div>
                    </footer>
                </article>
                <!-- #main -->
            </div>

            <div id="sub" role="complementary">
                <aside id="refSideMenu" class="Side-menu">
                    <ul>
                        <li><a href="basic.html">基本操作</a></li>
                        <li><a href="branch.html">操作分支</a></li>
                        <li><a href="tag.html">操作標籤</a></li>
                        <li><a href="ssh.html">設定SSH連接  </a></li>
                        <li><a href="log.html">操作提交記錄</a></li>
                        <li><a href="remote.html">遠端操作</a></li>
                        <li><a href="config.html">Git設定</a></li>
                        <li><a href="stash.html">Stash（暫存）</a></li>
                        <li><a href="git-svn.html">Git 和 Subversion的相比</a></li>
                        <li><a href="trouble-shooting.html">疑難排解</a></li>
                    </ul>
                </aside>
                <!-- #sub -->
            </div>

            <!-- #content -->
        </div>

        
        <footer id="footer" role="contentinfo">
            <div class="Row">
                <div class="Col Right">
                    <div class="Languages">
                        <div class="Languages-inner Clearfix">
                            <span class="Pick-language">繁體中文</span>
                            <span class="Pick-down"></span>
                            <select id="languageMenu" name="languageMenu" class="Language-menu" onchange="selectLanguage(this)">
                                <option value="http://backlogtool.com/git-tutorial/en/">English</option>
                                <option value="http://www.backlog.jp/git-guide/">日本語</option>
                                <option value="http://backlogtool.com/git-tutorial/cn/">简体中文</option>
                                <option selected value="../index.html">繁體中文</option>
                                <option value="http://backlogtool.com/git-tutorial/kr/">한국어</option>
                                <option value="http://backlogtool.com/git-tutorial/vn/">Tiếng Việt</option>
                            </select>
                        </div>
                    </div>
                    <!-- .Languages-area -->
                    <ul class="Social-icon">
                        <li><a href="https://www.facebook.com/BacklogTW" target="_blank">
                        <img src="../img/common/icon/ico_facebook.png" srcset="../img/common/icon/ico_facebook.png 1x, ../img/common/icon/ico_facebook@2x.png 2x" width="36" height="36" alt="Facebook"></a></li><li><a href="https://twitter.com/BacklogTaiwan" target="_blank"><img src="../img/common/icon/ico_twitter.png"
                    srcset="../img/common/icon/ico_twitter.png 1x, ../img/common/icon/ico_twitter@2x.png 2x" width="36" height="36" alt="twitter"></a></li>
                    </ul>
                </div>
                <div class="Col Left">
                    <div class="Powered">Powered by<br>
                        <a href="http://backlogtool.com/tw/" target="_blank" title="貝格樂">
                        <img src="../img/common/logo_backlog.png" srcset="../img/common/logo_backlog.png 1x, ../img/common/logo_backlog@2x.png 2x" width="142" height="42" alt="貝格樂 - 所有團隊成員的專案管理工具"></a>
                    </div>
                    <p class="Nulab">Copyright &copy; 2004-2017 Nulab Inc. All rights reserved. </p>
                </div>
            </div>
            <!-- #footer -->
        </footer>

        <div class="Top-link"><a id="topLink" href="#">UP</a></div>
        <div id="showUserVoicePopupTab" data-uv-trigger="smartvote">
            <a href="http://feedback.backlogtool.com/forums/277856" title="">Git入門的反饋</a>
        </div>

        <!-- #container -->
    </div>
    
    <script src="../../../../ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../js/lib/jquery.js"><\/script>')</script>
    <script type="text/javascript" src="../js/jquery.config.js"></script>
    <script type="text/javascript">
        function selectLanguage(lang) {
            window.location.href = lang.options[lang.selectedIndex].value;
        }
    </script>
    <script>(function(){
            var uv=document.createElement('script');
            uv.type='text/javascript';
            uv.async=true;
            uv.src='../../../../widget.uservoice.com/Yox3591xmDUTIQiafbmDQA.js';
            var s=document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(uv,s);
            uv.onload = uv.onreadystatechange = function(){
                var state = uv.readyState;
                if(!state || /complete|loaded/.test(state)){
                    UserVoice.push(['set', {
                        forum_id: '277856'
                    }]);
                    uv.onload = uv.onreadystatechange = null;
                }
            }
        })();</script>
    <script type="text/javascript">
        var tweetBtn, googleBtn, likeBtn;
        tweetBtn =
            '<li class="Twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://backlogtool.com/git-guide/tw/" data-text="連猴子都能懂的Git入門指南 | 貝格樂（Backlog）" data-via="BacklogTaiwan" data-lang="zh-tw">推文</a>'
            + '<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?"http":"https";if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document, "script", "twitter-wjs");<\/script></li>';
        likeBtn =
            '<li class="Facebook"><div id="fb-root"></div>'
            +'<script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.async = true; js.src = "//connect.facebook.net/zh_TW/sdk.js#xfbml=1&appId=417292271624387&version=v2.0"; fjs.parentNode.insertBefore(js, fjs); }(document, "script", "facebook-jssdk"));<\/script>'
            +'<div class="fb-like" data-href="http://backlogtool.com/git-guide/tw/" data-send="false" data-layout="button_count" data-width="110" data-show-faces="false"></div></li>';
        googleBtn =
            '<li class="Google"><g:plusone size="medium" href="http://backlogtool.com/git-guide/tw/"></g:plusone>'
            +'<script type="text/javascript"> window.___gcfg = {lang: "zh-TW"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/plusone.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); <\/script></li>';

        setTimeout(function() {
            $('#socials').append(tweetBtn + likeBtn + googleBtn);
        },1000);
    </script>
    <script type="text/javascript" src="../js/reference.js"></script>
</body>

<!-- Mirrored from backlogtool.com/git-tutorial/tw/reference/log.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 09:07:41 GMT -->
</html>
